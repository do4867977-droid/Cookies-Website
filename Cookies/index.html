<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Cookie Duo ‚Äî Galletas Artesanales</title>
  <meta name="description" content="Cookie Duo ‚Äî galletas artesanales hechas con amor y los mejores ingredientes. ¬°Haz tu pedido ahora!">
  <style>
    /* --------------------------
       Tokens
       -------------------------- */
    :root{
      --max-w:1200px;
      --gap:1rem;
      --radius:12px;

      --blue-700:#0066cc;
      --blue-800:#004d99;
      --blue-900:#05304a;
      --bg-top:#cce4ff;
      --bg-bottom:#e8f3ff;
      --muted:#6f9ec9;
      --success:#25d366;

      --card-bg:#fff;
      --card-shadow: 0 8px 24px rgba(0,0,0,0.06);

      --pill-gradient: linear-gradient(180deg,#2ecc71,#1fb45b);
      --pill-foreground: #fff;
      --touch-min:44px;
    }

    :root.dark, :root[data-theme="dark"]{
      --bg-top:#071428;
      --bg-bottom:#02121b;
      --card-bg:#07192a;
      --card-shadow: 0 12px 32px rgba(0,0,0,0.6);
      --blue-700:#3ea0ff;
      --blue-800:#2b6ea8;
      --blue-900:#dbeeff;
      --muted:#95bfe6;
      --pill-gradient: linear-gradient(180deg,#1db954,#128c63);
      --pill-foreground: #071428;
    }

    /* --------------------------
       Reset & base
       -------------------------- */
    *{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{
      margin:0;
      min-height:100vh;
      font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Poppins", sans-serif;
      color:var(--blue-900);
      background: linear-gradient(180deg,var(--bg-top),var(--bg-bottom));
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      display:flex;
      flex-direction:column;
    }
    img{display:block;max-width:100%;height:auto;object-fit:cover;border-radius:8px}
    a{color:inherit;text-decoration:none}
    button{font-family:inherit;cursor:pointer}

    /* --------------------------
       Layout container
       -------------------------- */
    .container{width:100%;max-width:var(--max-w);margin:0 auto;padding:0 1rem}
    main{flex:1;padding:1.25rem 0 2.5rem}

    /* --------------------------
       NAV
       -------------------------- */
    nav.nav{
      position:sticky;top:0;z-index:80;
      background:rgba(255,255,255,0.85);backdrop-filter:blur(6px);
      border-bottom:1px solid rgba(0,0,0,0.06);
      box-shadow:0 4px 18px rgba(0,0,0,0.04);
    }
    :root.dark nav.nav{ background:rgba(7,25,42,0.6); border-color:rgba(255,255,255,0.04) }

    .nav-inner{
      display:flex;align-items:center;justify-content:space-between;gap:var(--gap);
      padding:0.6rem 1rem;max-width:var(--max-w);margin:0 auto;height:64px;
    }

    .brand{display:flex;gap:0.75rem;align-items:center;min-width:0}
    .brand img{width:44px;height:44px;border-radius:10px;box-shadow:0 6px 14px rgba(0,0,0,0.06)}
    .brand h1{margin:0;font-weight:900;font-size:clamp(1rem,1.8vw,1.15rem);color:var(--blue-700);white-space:nowrap;overflow:hidden;text-overflow:ellipsis}

    /* nav links - desktop */
    .nav-links{display:flex;gap:0.6rem;align-items:center}
    .nav-links a{padding:0.5rem 0.7rem;border-radius:10px;font-weight:700;color:var(--blue-900)}
    .nav-links a:focus{outline:3px solid rgba(11,107,240,0.12);outline-offset:3px}
    .nav-links a:hover{background:rgba(11,111,240,0.06)}

    .menu-toggle{display:none;background:transparent;border:none;font-size:1.3rem;padding:8px;border-radius:10px}
    .menu-toggle:focus{outline:3px solid rgba(11,107,240,0.12)}

    .controls{display:flex;align-items:center;gap:0.6rem}

    .theme-toggle{
      display:inline-flex;align-items:center;gap:8px;padding:8px 10px;border-radius:10px;background:rgba(255,255,255,0.98);border:1px solid rgba(0,0,0,0.04);font-weight:700
    }
    :root.dark .theme-toggle{background:rgba(255,255,255,0.02);border-color:rgba(255,255,255,0.04);color:var(--blue-900)}

    .cart-btn{position:relative;background:var(--blue-700);color:white;border-radius:10px;padding:0.5rem 0.9rem;font-weight:800;border:none;display:inline-flex;align-items:center;gap:8px;min-height:var(--touch-min)}
    .cart-count{position:absolute;top:-8px;right:-8px;background:#ff5252;color:#fff;width:20px;height:20px;border-radius:999px;display:grid;place-items:center;font-weight:800;font-size:0.75rem;box-shadow:0 4px 10px rgba(0,0,0,0.12)}

    /* --------------------------
       Header
       -------------------------- */
    header{padding:1.25rem 0 0.6rem;text-align:center}
    header p{color:var(--blue-700);font-size:0.98rem;margin-top:6px}

    /* --------------------------
       Intro & sections
       -------------------------- */
    .intro{background:var(--card-bg);padding:1.25rem;border-radius:var(--radius);box-shadow:var(--card-shadow);margin-bottom:1rem}
    :root.dark .intro{background:rgba(255,255,255,0.02)}

    section{margin:1rem 0}
    .section-title{font-size:1.28rem;color:var(--blue-800);margin-bottom:0.6rem}

    /* --------------------------
       Products (responsive grid)
       -------------------------- */
    .products{display:grid;gap:1rem;grid-template-columns: repeat(1, 1fr)}
    @media (min-width:640px){ .products{grid-template-columns: repeat(2, 1fr)} }
    @media (min-width:1000px){ .products{grid-template-columns: repeat(3, 1fr)} }

    .card{
      background:var(--card-bg);padding:1rem;border-radius:12px;box-shadow:var(--card-shadow);display:flex;flex-direction:column;gap:0.6rem;transition:transform .14s ease,box-shadow .14s ease;
    }
    .card:hover{transform:translateY(-6px);box-shadow:0 18px 48px rgba(0,0,0,0.08)}
    .card img{height:170px;object-fit:cover;border-radius:10px}
    @media (max-width:420px){ .card img{height:140px} }
    .card h4{margin:0;font-size:1.02rem}
    .card p{color:var(--muted);font-size:0.95rem}
    .card .meta{display:flex;align-items:center;justify-content:space-between;gap:0.6rem;margin-top:0.4rem}
    .price{font-weight:900;color:var(--blue-700)}
    .add-btn{background:var(--blue-700);color:white;border-radius:10px;padding:0.6rem 0.75rem;border:none;font-weight:900;min-height:var(--touch-min)}

    /* --------------------------
       Gallery & Form ‚Äî updated for 'Nosotros'
       -------------------------- */
    /* Use a responsive grid and fixed aspect-ratio items so images fill properly */
    .galeria{
      display:grid;
      gap:1rem;
      grid-template-columns: repeat(3, 1fr);
      align-items:stretch;
    }
    @media (max-width:880px){
      .galeria{grid-template-columns: repeat(2, 1fr);}
    }
    @media (max-width:520px){
      .galeria{grid-template-columns: 1fr;}
    }

    /* Each item is a cropping frame with a controlled aspect ratio.
       Change aspect-ratio value if you prefer wider/taller images. */
    .galeria__item{
      position:relative;
      overflow:hidden;
      border-radius:10px;
      box-shadow:0 6px 14px rgba(0,0,0,0.06);
      background:linear-gradient(180deg, rgba(0,0,0,0.03), rgba(0,0,0,0.01));
      aspect-ratio: 16 / 11; /* balanced thumbnail ratio */
      display:block;
    }

    /* Allow one prominent larger item on wide screens (optional).
       First item spans 2 rows on desktop for a nice layout. */
    @media (min-width:1000px){
      .galeria__item--lead{ grid-row: span 2; aspect-ratio: 4 / 3; }
    }

    /* Make images fill the frame exactly */
    .galeria__item img{
      width:100%;
      height:100%;
      object-fit:cover;
      display:block;
      border-radius:8px;
    }

    form{background:var(--card-bg);border-radius:12px;padding:1.1rem;box-shadow:var(--card-shadow);max-width:720px;margin:0.75rem auto}
    form input, form textarea{width:100%;padding:0.7rem;border-radius:8px;border:1px solid rgba(0,0,0,0.06);background:transparent;color:inherit}

    /* --------------------------
       WhatsApp pill
       -------------------------- */
    .whatsapp-pill{
      position:fixed;right:20px;bottom:20px;z-index:160;display:flex;align-items:center;gap:10px;padding:12px 14px;border-radius:999px;background:var(--pill-gradient);color:var(--pill-foreground);box-shadow:0 18px 44px rgba(0,0,0,0.16);text-decoration:none;font-weight:800;
      transition:transform .12s ease,box-shadow .12s ease;
    }
    .whatsapp-pill:active{transform:translateY(1px)}
    .wa-icon{width:36px;height:36px;border-radius:8px;display:grid;place-items:center;background:rgba(255,255,255,0.12)}
    .wa-label{display:flex;align-items:center;gap:8px}
    .wa-badge{background:#fff;color:#128C7E;padding:4px 6px;border-radius:999px;font-weight:900;font-size:0.78rem}

    @media (max-width:540px){
      .whatsapp-pill{padding:10px 10px;right:14px;bottom:14px}
      .wa-label .wa-text{display:none}
      .brand h1{font-size:1rem}
      .nav-inner{padding:0.5rem 0.85rem}
    }

    /* --------------------------
       Toast
       -------------------------- */
    .toast{position:fixed;right:18px;bottom:100px;background:rgba(0,0,0,0.78);color:#fff;padding:0.6rem 0.9rem;border-radius:8px;display:none;z-index:200}

    /* --------------------------
       Mobile menu (slide-down)
       -------------------------- */
    .mobile-nav {
      position:fixed;inset:64px 0 auto 0;top:64px;background:var(--card-bg);z-index:140;box-shadow:0 12px 40px rgba(0,0,0,0.08);border-bottom-left-radius:12px;border-bottom-right-radius:12px;overflow:hidden;transform:translateY(-12px);opacity:0;visibility:hidden;transition:transform .22s ease,opacity .18s ease;
    }
    .mobile-nav.open{transform:translateY(0);opacity:1;visibility:visible}
    .mobile-nav .list{display:flex;flex-direction:column;gap:0.5rem;padding:1rem}
    .mobile-nav a{padding:0.8rem;border-radius:8px}

    /* focus styles */
    :focus{outline:none}
    a:focus,button:focus{outline:3px solid rgba(11,107,240,0.12);outline-offset:3px;border-radius:8px}

  </style>
</head>
<body>
  <!-- NAV -->
  <nav class="nav" role="navigation" aria-label="Barra de navegaci√≥n principal">
    <div class="nav-inner container">
      <div class="brand" aria-hidden="false">
        <img src="cookies.jpg" alt="Logotipo Cookie Duo">
        <h1>Cookie Duo</h1>
      </div>

      <button class="menu-toggle" id="menuToggle" aria-expanded="false" aria-controls="mobileNav" aria-label="Abrir men√∫ m√≥vil">‚ò∞</button>

      <div class="nav-links" id="navLinks" role="menubar" aria-label="Enlaces principales">
        <a href="ventas.html" role="menuitem">Ventas</a>
        <a href="carta.html" role="menuitem">Carta</a>
        <a href="nosotros.html" role="menuitem">Nosotros</a>
        <a href="contacto.html" role="menuitem">Contacto</a>
      </div>

      <div class="controls" aria-hidden="false">
        <button class="theme-toggle" id="themeToggle" aria-pressed="false" title="Alternar tema">
          <svg id="themeIcon" width="18" height="18" viewBox="0 0 24 24" fill="none" aria-hidden="true"></svg>
          <span id="themeText" style="font-weight:700;font-size:0.92rem">Modo oscuro</span>
        </button>

        <button class="cart-btn" id="openCart" title="Ver carrito" aria-label="Ver carrito">
          üõí Carrito <span class="cart-count" id="cartCount">0</span>
        </button>
      </div>
    </div>

    <!-- mobile sliding menu (hidden on desktop) -->
    <div class="mobile-nav container" id="mobileNav" aria-hidden="true">
      <div class="list">
        <a href="ventas.html">Ventas</a>
        <a href="carta.html">Carta</a>
        <a href="nosotros.html">Nosotros</a>
        <a href="contacto.html">Contacto</a>
      </div>
    </div>
  </nav>

  <header class="container">
    <p>Galletas artesanales con sabor a hogar ‚Äî Pedido por WhatsApp o correo</p>
  </header>

  <main class="container" id="main">
    <section id="ventas" class="intro" aria-labelledby="ventasTitle">
      <h2 id="ventasTitle" class="section-title">Ventas</h2>
      <p>Ofrecemos cajas surtidas, packs familiares y galletas personalizadas para eventos. Haz tu pedido por WhatsApp o escr√≠benos por correo. Tambi√©n puedes a√±adir productos al carrito y revisar antes de comprar.</p>
    </section>

    <section id="carta" aria-labelledby="cartaTitle">
      <h3 id="cartaTitle" class="section-title">Carta de Productos</h3>
      <div class="products" id="productsList">
        <article class="card" data-id="1" role="article" aria-label="Galletas de mantequilla">
          <img src="g3 mantequilla.webp" alt="Galletas de mantequilla">
          <h4>Galletas de Mantequilla</h4>
          <p>Cl√°sicas, crujientes y con un toque de vainilla. Paquete de 12 unidades.</p>
          <div class="meta">
            <span class="price">$18.000</span>
            <button class="add-btn" data-id="1" data-name="Galletas de Mantequilla" data-price="18000" aria-label="A√±adir Galletas de Mantequilla al carrito">A√±adir</button>
          </div>
        </article>

        <article class="card" data-id="2" role="article" aria-label="Galletas con chispas">
          <img src="g1.webp" alt="Galletas con chispas de chocolate">
          <h4>Galletas con Chispas</h4>
          <p>Suaves por dentro y con abundantes chispas de chocolate. Paquete de 10 unidades.</p>
          <div class="meta">
            <span class="price">$22.000</span>
            <button class="add-btn" data-id="2" data-name="Galletas con Chispas" data-price="22000" aria-label="A√±adir Galletas con Chispas al carrito">A√±adir</button>
          </div>
        </article>

        <article class="card" data-id="3" role="article" aria-label="Galletas integrales">
          <img src="integrales.webp" alt="Galletas integrales">
          <h4>Galletas Integrales</h4>
          <p>Con avena y semillas, opci√≥n saludable y nutritiva. Paquete de 10 unidades.</p>
          <div class="meta">
            <span class="price">$20.000</span>
            <button class="add-btn" data-id="3" data-name="Galletas Integrales" data-price="20000" aria-label="A√±adir Galletas Integrales al carrito">A√±adir</button>
          </div>
        </article>
      </div>
    </section>

    <section id="nosotros" aria-labelledby="nosotrosTitle">
      <h3 id="nosotrosTitle" class="section-title">Nosotros</h3>
      <p>Somos una peque√±a panader√≠a familiar que elabora galletas artesanales con ingredientes seleccionados. Cada pedido se prepara con cari√±o y cuidado para que lleguen frescas a tu mesa.</p>

      <!-- Galer√≠a: ahora con wrappers .galeria__item y aspect-ratio controlado -->
      <div class="galeria" aria-hidden="false" style="margin-top:0.8rem;">
        <!-- Lead image ‚Äî ocupa m√°s espacio en pantallas anchas -->
        <div class="galeria__item galeria__item--lead">
          <img loading="lazy" src="https://images.unsplash.com/photo-1499636136210-6f4ee915583e?w=1200&q=80&auto=format&fit=crop" alt="Equipo de Cookie Duo en la cocina">
        </div>

        <div class="galeria__item">
          <img loading="lazy" src="emplatadas.webp" alt="Galletas emplatadas en presentaci√≥n">
        </div>

        <div class="galeria__item">
          <img loading="lazy" src="empaquetadas.webp" alt="Empaque de galletas listo para entrega">
        </div>

        <!-- Si quieres m√°s im√°genes a√±ade m√°s .galeria__item aqu√≠ -->
      </div>
    </section>

    <section id="contacto" aria-labelledby="contactoTitle">
      <h3 id="contactoTitle" class="section-title">Contacto</h3>
      <form action="mailto:do4867977@gmail.com" method="POST" enctype="text/plain" aria-label="Formulario de contacto">
        <h3>Cont√°ctanos</h3>
        <label style="font-size:0.9rem;font-weight:600">Tu nombre</label>
        <input type="text" name="nombre" placeholder="Tu nombre" required>
        <label style="font-size:0.9rem;font-weight:600">Tu correo</label>
        <input type="email" name="email" placeholder="Tu correo electr√≥nico" required>
        <label style="font-size:0.9rem;font-weight:600">Mensaje / Pedido</label>
        <textarea name="mensaje" rows="5" placeholder="Tu mensaje o pedido" required></textarea>
        <button type="submit">Enviar mensaje</button>
      </form>
    </section>
  </main>

  <footer style="background:var(--blue-900);color:#fff;padding:1rem;text-align:center;">
    <p>&copy; 2025 Cookie Duo. Todos los derechos reservados. ‚Äî Pedido por WhatsApp: +57 301 2548388</p>
  </footer>

  <!-- WhatsApp moderno (pill) -->
  <a href="#" id="whatsappPill" class="whatsapp-pill" role="button" aria-label="Chatea por WhatsApp con Cookie Duo" target="_blank" rel="noopener">
    <span class="wa-icon" aria-hidden="true">
      <svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true">
        <path d="M20.52 3.48A11.95 11.95 0 0012 0C5.37 0 .01 5.37.01 12 0 14 .53 15.9 1.44 17.44L0 24l6.6-1.72A11.92 11.92 0 0012 24c6.63 0 11.99-5.37 11.99-12 0-3.21-1.25-6.21-3.47-8.52z" fill="#fff" opacity="0.98"/>
        <path d="M17.3 14.03c-.29-.14-1.71-.85-1.97-.95-.26-.11-.45-.14-.64.14-.19.29-.74.95-.9 1.15-.17.19-.34.22-.63.08-.29-.14-1.22-.45-2.32-1.44-.86-.77-1.44-1.72-1.61-2.01-.17-.29-.02-.44.13-.58.13-.13.28-.34.44-.51.15-.17.2-.29.3-.48.11-.19.05-.35-.02-.49-.07-.14-.64-1.54-.88-2.12-.23-.56-.47-.48-.65-.49-.17-.01-.37-.01-.57-.01-.2 0-.52.07-.79.34-.28.27-1.08 1.05-1.08 2.55 0 1.5 1.12 2.95 1.28 3.16.16.21 2.2 3.36 5.34 4.71 1 .43 1.78.58 2.42.7.86.19 1.68.12 2.31.02.72-.12 2.22-.95 2.55-1.88.33-.93.33-1.6.24-1.75-.09-.15-.35-.28-.64-.42z" fill="#128C7E"/>
      </svg>
    </span>
    <span class="wa-label"><span class="wa-text">Chatear</span> <span class="wa-badge" id="waCount" style="display:none">0</span></span>
  </a>

  <div class="toast" id="toast" role="status" aria-live="polite">A√±adido al carrito</div>

  <script>
    /* --------------------------
       Theme toggle (light/dark)
       -------------------------- */
    const root = document.documentElement;
    const themeToggle = document.getElementById('themeToggle');
    const themeIcon = document.getElementById('themeIcon');
    const themeText = document.getElementById('themeText');

    function applyTheme(name){
      if(name === 'dark'){ root.classList.add('dark'); root.setAttribute('data-theme','dark'); themeToggle.setAttribute('aria-pressed','true'); themeText.textContent='Modo claro'; themeIcon.innerHTML = '<path d=\"M21 12.79A9 9 0 0111.21 3 7 7 0 1021 12.79z\" fill=\"#fff\"/>' }
      else { root.classList.remove('dark'); root.removeAttribute('data-theme'); themeToggle.setAttribute('aria-pressed','false'); themeText.textContent='Modo oscuro'; themeIcon.innerHTML = '<path d=\"M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.8 1.42-1.42zM1 13h3v-2H1v2zm10 8h2v-3h-2v3zm7-3.16l1.8 1.79 1.41-1.41-1.79-1.8-1.42 1.42zM17 13a5 5 0 11-10 0 5 5 0 0110 0zm-5-9h2V1h-2v3zM4.22 19.78l1.79-1.8-1.41-1.41-1.8 1.79 1.42 1.42zM23 11v2h-3v-2h3z\" fill=\"#04243f\"/>' }
      localStorage.setItem('site-theme', name);
    }

    function initTheme(){
      const saved = localStorage.getItem('site-theme');
      if(saved) return applyTheme(saved);
      const prefers = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;
      applyTheme(prefers ? 'dark' : 'light');
    }
    initTheme();
    themeToggle.addEventListener('click', ()=> applyTheme(root.classList.contains('dark') ? 'light' : 'dark') );

    /* --------------------------
       Mobile menu behavior
       -------------------------- */
    const menuToggle = document.getElementById('menuToggle');
    const mobileNav = document.getElementById('mobileNav');
    menuToggle.addEventListener('click', ()=> {
      const open = mobileNav.classList.toggle('open');
      mobileNav.setAttribute('aria-hidden', open ? 'false' : 'true');
      menuToggle.setAttribute('aria-expanded', open ? 'true' : 'false');
    });

    // close mobile nav on outside click or escape
    document.addEventListener('click', (e)=> {
      if(!mobileNav.contains(e.target) && !menuToggle.contains(e.target) && mobileNav.classList.contains('open')) {
        mobileNav.classList.remove('open'); mobileNav.setAttribute('aria-hidden','true'); menuToggle.setAttribute('aria-expanded','false');
      }
    });
    document.addEventListener('keydown', (e)=> { if(e.key === 'Escape'){ if(mobileNav.classList.contains('open')){ mobileNav.classList.remove('open'); mobileNav.setAttribute('aria-hidden','true'); menuToggle.setAttribute('aria-expanded','false'); } } });

    /* --------------------------
       Cart & toast
       -------------------------- */
    let cart = {};
    const addBtns = document.querySelectorAll('.add-btn');
    const toast = document.getElementById('toast');
    const cartCount = document.getElementById('cartCount');
    const waCount = document.getElementById('waCount');

    function updateCartUI(){
      const qty = Object.values(cart).reduce((s,it)=> s + it.qty, 0);
      cartCount.textContent = qty;
      if(qty > 0){ waCount.style.display = 'inline-block'; waCount.textContent = qty; } else { waCount.style.display = 'none'; }
    }

    function showToast(msg='A√±adido al carrito', t=1400){ toast.textContent = msg; toast.style.display = 'block'; setTimeout(()=> toast.style.display='none', t); }

    addBtns.forEach(btn=>{
      btn.addEventListener('click', ()=>{
        const id = btn.dataset.id;
        const name = btn.dataset.name;
        const price = parseInt(btn.dataset.price,10) || 0;
        if(!cart[id]) cart[id] = {name,price,qty:0};
        cart[id].qty += 1;
        updateCartUI();
        showToast(`${name} agregado (${cart[id].qty})`);
      });
    });

    // openCart opens WhatsApp with summary
    const openCartBtn = document.getElementById('openCart');
    openCartBtn.addEventListener('click', ()=>{
      const items = Object.values(cart);
      if(items.length === 0){ showToast('Tu carrito est√° vac√≠o'); return; }
      let total = 0;
      const lines = items.map(it => { total += it.price * it.qty; return `${it.qty} x ${it.name} ‚Äî $${(it.price*it.qty).toLocaleString()}` });
      lines.push(''); lines.push(`Total: $${total.toLocaleString()}`); lines.push(''); lines.push('Por favor confirmar direcci√≥n y fecha de entrega.');
      const phone = '573012548388';
      window.open(`https://wa.me/${phone}?text=${encodeURIComponent(lines.join('\n'))}`, '_blank', 'noopener');
    });

    // WhatsApp pill behavior
    const whatsappPill = document.getElementById('whatsappPill');
    whatsappPill.addEventListener('click',(e)=> {
      e.preventDefault();
      const items = Object.values(cart);
      let text = '';
      if(items.length === 0){
        text = 'Hola üëã, quisiera consultar disponibilidad, precios y tiempos de entrega.';
      } else {
        let total = 0;
        const lines = ['Hola üëã, quiero realizar este pedido:'];
        items.forEach(it => { lines.push(`- ${it.qty} x ${it.name} ‚Äî $${(it.price*it.qty).toLocaleString()}`); total += it.qty * it.price; });
        lines.push(''); lines.push(`Total: $${total.toLocaleString()}`); lines.push(''); lines.push('Por favor confirmar direcci√≥n y fecha de entrega.');
        text = lines.join('\n');
      }
      const phone = '573012548388';
      window.open(`https://wa.me/${phone}?text=${encodeURIComponent(text)}`, '_blank', 'noopener');
    });
    whatsappPill.addEventListener('keyup', (e)=> { if(e.key==='Enter' || e.key===' ') { e.preventDefault(); whatsappPill.click(); } });

    // initial UI
    updateCartUI();

  </script>
</body>
</html>
